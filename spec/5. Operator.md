# Operator



## Introduction

- functions with one or two parameters that are called prefix, infix, or postfix
- allows for custom operators because object methods are user-level features
- allows for more operators because name not limited by symbols, e.g. `lt`, `+`, etc.
- provides built-in methods and corresponding operators on data type objects for most common operations
- encouraged to declare custom operators instead of using built-in to be more expressive, e.g. `list isEmpty` instead of `list.length == 0` (JavaScript)



## Declaration

- use `$` to denote position of function name
- before or after argument if one non-optional argument

```
$ a ->: {
  a -> negate @ Number
} =: -
```

- between arguments if two non-optional arguments
<!-- todo: around outside also useful? like grouping operator? -->

```
a $ b ->: {
  a, b -> add @ Number
} =: +
```



## Calling

```
- n
```

```
n + m
```

- no precedence rules, must use grouping to achieve correct semantics
- must use whitespace around operator name, otherwise would interpret it as single identifier which doesn't exist, e.g. `n+m`, `-n`
- to allowing no whitespace would need to forbid use of operator name in identifiers and semantics aware parsing



## Variable Declaration

```
=:
```

```
~:
```

- see Variable



## Variable Assignment

```
~
```

- see Variable



## Grouping

```
()
```

<!-- todo: how to do nested operations, e.g. 5 + 3*2 - 2 -->
- precedence:
    1. Function call
    2. ...



## Data Type Operators

- built-in methods on data type objects with words as names
- built-in operators built using these methods internally
- can declare top-level identifiers to make them more convenient to use

```
add @ Number =: add
+ @ Number =: +
```

- beware: don't spread out all properties of data type object, because has others that probably doesn't want, e.g. `all @ Number`
- built-in data type objects have `operators` property with object containing all operators

```
// somewhere internally within Number object
[
   add =: +
   // ...
   exponent =: ^
] =: operators
```

- can spread `operators` object out to declare top-level identifiers

```
operators @ Number =: ...
```

```
all @ Number =: ...
operators @ Number =: ...

1 + 2 =: n
```

### Number

- built-in methods and operators on `Number` object
- arithmetic methods: `add`, `subtract`, `multiply`, `divide`, `modulo`, `exponent`
- arithmetic operators: `+`, `-`, `*`, `/`, `%`, `^`
- arithmetic assignment methods: `addOn`, `subtractOn`, `multiplyOn`, `divideOn`, `moduloOn`, `exponentOn`
- arithmetic assignment operators: `+~`, `-~`, `*~`, `/~`, `%~`, `^~`

### String

- built-in methods and operators on `String` object
- methods: `add`
- operators: `+`
<!-- todo: what happens if two operators have same name? should rename string operator... -->

### Boolean

- built-in methods and operators on `Boolean` object
- comparison methods: `equal`, `unequal`, `greater`, `lesser`, `greaterorequal`, `lesserorequal`
- comparison operators: `?=`, `?!=`, `?>`, `?<`, `?>=`, `?<=`
- exact equality, no coercion magic, transitive
- logical methods: `not`, `both`, `notboth`, `either`, `neithernor`, `ifthen`, `converse`, `iff`, `butnot`
- logical operators: `!`, `&`, `!&`, `|`, `!|`, `=>`, `<=`, `<=>`, `<!=>`